{% load static %}

<!DOCTYPE html>
<html>
    <head>
        <title>Login</title>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.1/css/all.css" integrity="sha384-gfdkjb5BdAXd+lj+gudLWI+BXq4IuLW5IT+brZEZsLFm++aCMlF1V92rMkPaX4PP" crossorigin="anonymous">
    </head>
    <body>
        <div class="container h-100">
            <div class="d-flex">
                <h3 id="form-title">Add Review</h3>
            </div>
            <div class="d-flex form_container">
                <form method="POST" action="">
                    {% csrf_token %}
                    <div>
                        {{form.name}} {{form.review}} Purchased? {{form.purchase}}
                    </div>
                    <button class="btn btn-primary" type="submit" value="Submit">Submit</button>
                </form>
            </div>
        </div>
        <table class="table">
            <thead>
              <tr>
                <th scope="col">Name</th>
                <th scope="col">Review</th>
                <th scope="col">Purchase</th>
                <th scope="col">Car</th>
              </tr>
            </thead>
            <tbody>
                {% for review in reviews %}
                <tr>
                    <td>{{review.name}}</td>
                    <td>{{review.review}}</td>
                    <td>{{review.purchase}}</td>
                    <td>{{review.car_year}} {{review.car_make}} {{review.car_model}}</td>
                </tr>
              {% endfor %}
            </tbody>
        <script>
            /* Because i didnt set placeholder values in forms.py they will be set here using vanilla Javascript
            We start indexing at one because CSRF_token is considered and input field 
            */

            // Query All input fields
            var form_fields = document.getElementsByTagName('input')
            form_fields[1].placeholder='Name';
            form_fields[2].placeholder='Review';
            form_fields[3].placeholder='Purchase';
            for (var field in form_fields){	
                form_fields[field].className += ' form-control'
            }
        </script>
    </body>
</html>
